.MODEL LARGE
.STACK 100H
.DATA

CODETITLEL Db 10, 13, 'ZARIA'S CALCULATOR'
 OP1 DB 'ADDITION = ONE:'
 OP2 DB 10, 13, 'SUBTRACTION = TWO:'
 OP3 DB 10, 13, 'MULTIPLIACATION = THREE:'
 OP4 DB 10, 13, 'DIVISION = FOUR:'
 OP5 DB 10, 13, 'FACTORIAL = FIVE:'
 OP6 DB 10, 13, 'SQUARE = SIX:'
 OP7 DB 10, 13, 'CUBE = SEVEN'
 OP8 DB 10, 13, 'POWER = EIGHT:'
 
 OPPROMPT DB 10, 13, 'CHOOSE OPERATION:$'
 PROMPT1 DB 10, 13, 'ENTER NUMBER ONE:$'
 PROMPT2 DB 10, 13, 'ENTER NUMBER TWO:$'
 RESULT DB 10, 13, 'THE ANSWER IS:$'
 TEN DB 10
 FNUM DB ?
 SNUM DB ?
 TNUM DB ?
 WORM DB ?
 RESU DW ?
 POWERP DB 10, 13, 'ENTER POWER:$'
 POWERB DB 10, 13, 'ENTER BASE:$'
.CODE
MAIN PROC
  MOV AX, @DATA
  MOV DS, AX
  LEA DX, OP1
  MOV AH, 9
  INT 21H

  MOV AH, 1
  INT 21H
  MOV BH, AL
  SUB BH, 48

  CMP BH, 1
  JE ADDITION

  CMP BH, 2
  JNE GOD
  JMP SUBO
 GOD:
  CMP BH, 3
  JNE NEXT
  JMP MULTIPLICATION
 NEXT:
  CMP BH, 4
  JNE NEB
  JMP DIVISION
 NEB:
  CMP BH, 5
  JNE NONO
  JMP FACTORIAL
 NONO:
  CMP BH, 6
  JNE BEN
  JMP SQUARE
 BEN:
  CMP BH, 7
  JNE EXI
  JMP CUBE
 EXI:
  CMP BH, 8
  JNE EXIT
  JMP POWER
EXIT:
 MOV AH, 4CH
 INT 21H

ADDITION:
;PROMPT FIRST NUM
 LEA DX, PROMPT1
 MOV AH, 9
 INT  21H
;ENTER NUM
 MOV AH, 1
 INT 21H
;Convert into number and move into bh reg
 SUB AL, 30H
 MOV BH, AL
;GET SECOND PART OF NUMBER
 MOV AH, 1
 INT 21H
;CONVERT INTO NUMBER 
 SUB AL, 30H
 MOV BL, AL

;PROMPT SECOND NUM
 LEA DX, PROMPT2
 MOV AH, 9
 INT 21H
;GET FIRST PART OF YOUR NUMBER
 MOV AH, 1
 INT 21H
;CONVERT INTO NUM
 SUB AL, 30H
 MOV CH, AL
;GET SECOND PART OF NUMBER
 MOV AH, 1
 INT 21H
;CONVERT INTO NUM
 SUB AL, 30H
 MOV CL, AL

 ADD BL, CL
 MOV AL, BL
 MOV AH, 00H
 AAA

 MOV CL, AL
 MOV BL, AH
 ADD BL, BH
 ADD BL, CH

 MOV AL, BL
 MOV AH, 00H
 AAA

 MOV BX, AX
 ;MOV BH, AH
 ;MOV BL, AL

 LEA DX, RESULT
 MOV AH, 9
 INT 21H

 MOV DL, BH
 ADD DL, 30H
 MOV AH, 02H
 INT 21H

 MOV DL, BL
 ADD DL, 30H
 MOV AH, 02H
 INT 21H

 MOV DL, CL
 ADD DL, 30H
 MOV AH, 02H
 INT 21H

 MOV AH, 4CH
 INT 21H

SUBO:
;PROMPT FIRST NUM
 LEA DX, PROMPT1
 MOV AH, 9
 INT  21H
;ENTER NUM
 MOV AH, 1
 INT 21H
 SUB AL, 48
 MOV FNUM, AL

 MOV AH, 1
 INT 21H
 SUB AL, 48
 MOV SNUM, AL

 MOV AL, FNUM
 MUL TEN
 ADD AL, SNUM
 MOV FNUM, AL

;PROMPT SECOND NUM
 LEA DX, PROMPT2
 MOV AH, 9
 INT 21H
;GET FIRST PART OF YOUR NUMBER
 MOV AH, 1
 INT 21H
 SUB AL, 48
 MOV SNUM, AL

 MOV AH, 1
 INT 21H
 SUB AL, 48
 MOV TNUM, AL

 MOV AL, SNUM
 MUL TEN
 ADD AL, TNUM
 MOV SNUM, AL

 MOV BL, SNUM
 SUB FNUM, BL
 MOV AL, FNUM
 MOV RESU, AL

 LEA DX, RESULT
 MOV AH, 9
 INT 21H

 MOV AL, RESU
 MOV AH, 00
 DIV TEN

 MOV DL, AH
 MOV WORM, DL

 MOV DL, AL
 ADD DL, 48
 MOV AH, 2
 INT 21H

 MOV DL, WORM
 ADD DL, 48
 MOV AH, 2
 INT 21H
 MOV AH, 4CH
 INT 21H
MULTIPLICATION:
;PROMPT FIRST NUM
 LEA DX, PROMPT1
 MOV AH, 9
 INT  21H

;GET FIRST NUM INTO VAR 
 MOV AH, 1
 INT 21H

;CONVERT INTO NUM
 SUB AL, 30H
 MOV FNUM, AL

;PROMPT SECOND NUM
 LEA DX, PROMPT2
 MOV AH, 9
 INT 21H

;GET SECOND NUM INTO VAR
 MOV AH, 1
 INT 21H

;CONVERT SECOND NUM INTO NUMBER
 SUB AL, 30H
 MOV SNUM, AL

;PERFORM OPERATION IN AL REG 
 MUL FNUM

;PUT INTO RESU VARIABLE
 MOV RESU, AL
 AAM

 ADD AH, 30H
 ADD AL, 30H

 MOV BX, AX
;DISPLAY RESULT SENTENCE
 LEA DX, RESULT
 MOV AH, 9
 INT 21H

;PUT BOTH PARTS OF ANSWER INTO THE DL
 MOV AH, 2
 MOV DL, BH
 INT 21H

 MOV AH, 2
 MOV DL, BL
 INT 21H
 MOV AH, 4CH
 INT 21H

DIVISION:
;Prompt first num
 LEA DX, PROMPT1
 MOV AH, 9
 INT 21H

;Get first num and convert to number
 MOV AH, 1
 INT 21H
 SUB AL, 30H
 MOV FNUM, AL

;Prompt second num
 LEA DX, PROMPT2
 MOV AH, 9
 INT 21H

;Get second num and convert to number
 MOV AH, 1
 INT 21H
 SUB AL, 30H
 MOV SNUM, AL

;Perform necessary operations
 MOV CL, FNUM
 MOV CH, 00
 MOV AX, CX
 DIV SNUM
 MOV RESU, AL
 MOV AH, 00
 AAD

 ADD AH, 30H
 ADD AL, 30H

 MOV BX, AX
 LEA DX, RESULT
 MOV AH, 9
 INT 21H

 MOV AH, 2
 MOV DL, BH
 INT 21H

 MOV AH, 2
 MOV DL, BL
 INT 21H
 MOV AH, 4CH
 INT 21H

FACTORIAL:
;PROMPT FIRST NUM
 LEA DX, PROMPT1
 MOV AH, 9
 INT  21H

;GET FIRST NUM INTO VAR 
 MOV AH, 1
 INT 21H
 SUB AL, 30H
 MOV FNUM, AL
 FACT:
  DEC FNUM
  IMUL FNUM
  CMP FNUM, 1
  JNE FACT

;Convert Into numbers
 AAM

 ADD AH, 30H
 ADD AL, 30H

 MOV BX, AX

;DISPLAY RESULT SENTENCE
 LEA DX, RESULT
 MOV AH, 9
 INT 21H

;PUT BOTH PARTS OF ANSWER INTO THE DL
 MOV AH, 2
 MOV DL, BH
 INT 21H

 MOV AH, 2
 MOV DL, BL
 INT 21H
 MOV AH, 4CH
 INT 21H

SQUARE:
;PROMPT FIRST NUM
 LEA DX, PROMPT1
 MOV AH, 9
 INT  21H

;GET FIRST NUM INTO VAR 
 MOV AH, 1
 INT 21H

;CONVERT INTO NUM
 SUB AL, 30H
 MOV FNUM, AL

;Perform Multiplications
 MUL FNUM

;Convert Into numbers
 AAM

 ADD AH, 30H
 ADD AL, 30H

 MOV BX, AX

;DISPLAY RESULT SENTENCE
 LEA DX, RESULT
 MOV AH, 9
 INT 21H

;PUT BOTH PARTS OF ANSWER INTO THE DL
 MOV AH, 2
 MOV DL, BH
 INT 21H

 MOV AH, 2
 MOV DL, BL
 INT 21H
 MOV AH, 4CH
 INT 21H


CUBE:
;PROMPT FIRST NUM
 LEA DX, PROMPT1
 MOV AH, 9
 INT  21H
;GET FIRST NUM INTO VAR 
 MOV AH, 1
 INT 21H
;CONVERT INTO NUM
 SUB AL, 30H
 MOV FNUM, AL

;Perform Multiplications
IMUL FNUM
IMUL FNUM

;Convert Into numbers
 AAM

 ADD AH, 30H
 ADD AL, 30H

 MOV BX, AX

;DISPLAY RESULT SENTENCE
 LEA DX, RESULT
 MOV AH, 9
 INT 21H

;PUT BOTH PARTS OF ANSWER INTO THE DL
 MOV AH, 2
 MOV DL, BH
 INT 21H
 MOV AH, 2
 MOV DL, BL
 INT 21H

 MOV AH, 4CH
 INT 21H

POWER:
;PROMPT FIRST NUM
 LEA DX, POWERP
 MOV AH, 9
 INT  21H

;GET FIRST NUM INTO VAR 
 MOV AH, 1
 INT 21H
 SUB AL, 30H
 MOV FNUM, AL

 LEA DX, POWERB
 MOV AH, 9
 INT 21H

;GET FIRST NUM INTO VAR 
 MOV AH, 1   
 INT 21H
 SUB AL, 30H
 MOV SNUM, AL

 ACT:
  DEC FNUM
  IMUL SNUM
  CMP FNUM, 1
  JNE ACT

;Convert Into numbers
 AAM

 ADD AH, 30H
 ADD AL, 30H

 MOV BX, AX

;DISPLAY RESULT SENTENCE
 LEA DX, RESULT
 MOV AH, 9
 INT 21H

;PUT BOTH PARTS OF ANSWER INTO THE DL
 MOV AH, 2
 MOV DL, BH
 INT 21H

 MOV AH, 2
 MOV DL, BL
 INT 21H
 MOV AH, 4CH
 INT 21H
;END PROGRAM
MOV AH, 4CH
INT 21H
MAIN ENDP
END MAIN
